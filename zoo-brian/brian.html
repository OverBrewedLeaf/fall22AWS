<!DOCTYPE html>
<html>
  <head>
    <title>Brian's Zoo</title>

    <!-- Bootstrap -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" type="text/css" href="css/brian.css">
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="../index.html">
            <img src="img/ocean.jpg" alt="paw print logo" width="30" height="20"
              style="display: inline-block;">
            Home Page
          </a>
        </div>
        <ul class="nav navbar-nav">
          <li><a href="brian.html">Ocean Biome</a></li>
          <li><a href="turtle.html">Sea Turtle</a></li>
          <li><a href="axolotl.html">Axolotl</a></li>
          <li><a href="dolphin.html">Bottlenose Dolphin</a></li>
          <li><a href="squid.html">Squid</a></li>
        </ul>
      </div>
    </nav>

    <h1>Welcome to Brian's Zoo</h1>
    <h3>See the animals at the zoo:</h3>

    <div class="container">
      <div class="link">
        <a href="turtle.html"><img src="img/mc-turtle.jpg"></a>
      </div>
      <div class="link">
        <a href="axolotl.html"><img src="img/mc-axolotl.png"></a>
      </div>
      <div class="link">
        <a href="dolphin.html"><img src="img/mc-dolphin.png"></a>
      </div>
      <div class="link">
        <a href="squid.html"><img src="img/mc-squid.png"></a>
      </div>
      <div class = "back">
        <a href="../index.html">Home Page</a>

        <label class="add-fav">
          <input type="checkbox"id="addLike" onclick="handleClick(this)"
            style="opacity:0; position: absolute;">Buy Tickets ($100)</span></input>
        </label>

        <script>
            function handleClick(cb) {
                let number = +prompt("Enter how many tickets you want to buy. Balance: $" + localStorage.getItem("balance_"), 1);
                if(isNaN(number) || number <= 0) {
                    alert('Error: Not valid number');
                }
                else {
                    if(number * 100 < localStorage.getItem("balance_")){
                        for(let i = 0; i < number; i++){
                            if(localStorage.getItem("tickets_") == null){
                                localStorage.setItem("tickets_", "");
                            }
                            if(i == 0 && localStorage.getItem("tickets_").length > 0)){
                                localStorage.setItem("tickets_", localStorage.getItem("tickets_") + ".");
                            }
                            let date = new Date();
                            date.setDate(date.getDate() + 30);
                            localStorage.setItem("balance_", parseInt(localStorage.getItem("balance_")) - 100);
                            localStorage.setItem("tickets_", localStorage.getItem("tickets_") + "Aquarium Zoo | Expires: " + date);
                            if(i < number - 1){
                                localStorage.setItem("tickets_", localStorage.getItem("tickets_") + ".");
                            }
                        }
                        alert("Tickets bought. Balance: $" + localStorage.getItem("balance_"));
                    }
                    else{
                        alert("Error: Out of balance!");
                    }
                }
            }
        </script>
      </div>
    </div>

  </body>
</html>

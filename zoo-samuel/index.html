<!DOCTYPE html>
<html>
  <head>
    <title> Samuel's Zoo </title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="css/home.css">
  </head>
  <body>
    <h0>Welcome to Samuel's Zoo!</h0>
    <h1>
      <a href="../index.html">Back Home</a> |
      <a href="../zoo-brian/brian.html">Brian's Zoo</a> |
      <a href="../zoo-jeffrey/index.html">Jeffrey's Zoo</a> |
      <a href="../zoo-maya/map.html">Maya's Zoo</a> |
      <p id="demo" onclick=handleClick()>Buy Tickets ($100)</p>

      <script>
          function handleClick(cb) {
              let number = +prompt("Enter how many tickets you want to buy. Balance: $" + localStorage.getItem("balance_"), 1);
              if(isNaN(number) || number <= 0) {
                  alert('Error: Not valid number');
              }
              else {
                  if(number * 100 < localStorage.getItem("balance_")){
                      for(let i = 0; i < number; i++){
                          if(localStorage.getItem("tickets_") == null){
                              localStorage.setItem("tickets_", "");
                          }
                          if(i == 0 && localStorage.getItem("tickets_").length > 0)){
                              localStorage.setItem("tickets_", localStorage.getItem("tickets_") + ".");
                          }
                          let date = new Date();
                          date.setDate(date.getDate() + 30);
                          localStorage.setItem("balance_", parseInt(localStorage.getItem("balance_")) - 100);
                          localStorage.setItem("tickets_", localStorage.getItem("tickets_") + "Forest Zoo | Expires: " + date);
                          if(i < number - 1){
                              localStorage.setItem("tickets_", localStorage.getItem("tickets_") + ".");
                          }
                      }
                      alert("Tickets bought. Balance: $" + localStorage.getItem("balance_"));
                  }
                  else{
                      alert("Error: Out of balance!");
                  }
              }
          }
      </script>
    </h1>

    <br></br>

    <input type="button" onclick="window.location.href='deer.html';" class="deerbutton" value="Deer">
    <input type="button" onclick="window.location.href='rabbit.html';" class="rabbitbutton" value="Rabbit">
    <input type="button" onclick="window.location.href='parrot.html';" class="parrotbutton" value="Parrot">
    <input type="button" onclick="window.location.href='panda.html';" class="pandabutton" value="Panda">
  </body>
</html>
